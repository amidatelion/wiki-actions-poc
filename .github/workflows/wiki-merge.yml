name: Wiki Update Demo
run-name: Pushing Updates to BTA Wiki
on: [push]
#    push:
#      branches:
#        - wiki
jobs:
    post-to-wiki:
        name: Post Updates to Wiki
        runs-on: ubuntu-latest
        steps:
            - name: Check out repository code
              uses: actions/checkout@v4
              with:
                path: bta
            - name: Check out generation code
              uses: actions/checkout@v4
              with:
                repository: 'amidatelion/wiki-gen-poc'
                path: wiki-gen-poc
                ref: 'parser'
            - name: Check state of directories again
              run: |
                  pwd
                  ls -la bta
                  ls -la wiki-gen-poc
            - name: Run Generation Code
              env:
                WIKI_PASS: ${{ secrets.WIKI_PASS }}
                WIKI_USER: $${{ vars.WIKI_USER}}
              run: |
                python3 /home/runner/wiki-gen-poc/src/factionRenderer.py
            - name: Check state of directories again
              run: |
                pwd
                ls -la bta
                ls -la wiki-gen-poc